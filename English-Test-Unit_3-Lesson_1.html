<!doctype html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ© â€” Ø§Ù„ØµÙ Ø§Ù„Ø«Ø§Ù„Ø« Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯ÙŠ ( Ø£Ù‡Ù… ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ø¯Ø±Ø³ Ø§Ù„Ø£ÙˆÙ„ Ø§Ù„ÙˆØ­Ø¯Ø© 3 )</title>
<style>
:root{
  --bg1:#efe9e0;     /* soft beige background */
  --card:#f6f1ec;    /* card slightly lighter */
  --accent:#b8872f;  /* warm gold */
  --accent-2:#d4b57a;/* light gold */
  --metal:#5a4636;   /* deep brown (text) */
  --muted:#8b7b6d;
  --glass: rgba(255,255,255,0.6);
  --success:#86efac;
  --error:#fecaca;
  --shadow: rgba(25,20,18,0.08);
}
*{box-sizing:border-box;font-family:"Segoe UI","Noto Kufi Arabic",Tahoma,system-ui,-apple-system}
html,body{height:100%;margin:0;background:linear-gradient(180deg,var(--bg1),#efe5da);color:var(--metal);-webkit-font-smoothing:antialiased}
.app-wrap{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:28px}

/* SPLASH */
.splash{
  position:fixed;inset:0;display:flex;align-items:center;justify-content:center;z-index:90;
  background:linear-gradient(180deg, rgba(10,8,6,0.08), rgba(10,8,6,0.12));
}
.splashCard{
  width:100%;max-width:820px;padding:28px;border-radius:14px;
  background: linear-gradient(180deg, rgba(255,255,255,0.85), rgba(255,255,255,0.92));
  border:1px solid rgba(90,70,54,0.08); box-shadow:0 20px 60px var(--shadow); text-align:center;
}
.titleMain{font-weight:900;font-size:20px;color:var(--metal);margin:6px 0}
.titleSub{font-size:14px;color:var(--muted);margin:6px 0}
.readyBox{
  margin:16px auto;padding:18px;border-radius:12px;background:linear-gradient(90deg, rgba(255,255,255,0.98), rgba(250,246,241,0.98));
  border:1px solid rgba(90,70,54,0.04);min-width:300px;
  box-shadow:0 8px 30px rgba(90,70,54,0.04);
}
.readyWord{font-size:34px;font-weight:900;color:var(--accent);margin-bottom:6px}
.smallMuted{font-size:13px;color:var(--muted)}

/* button */
.btn{
  display:inline-block;padding:12px 20px;border-radius:12px;border:none;font-weight:800;cursor:pointer;
  color:#fff; background:linear-gradient(90deg,var(--accent),var(--accent-2));
  box-shadow:0 10px 30px rgba(184,135,47,0.12); transition:transform .14s,box-shadow .14s;
}
.btn:hover{box-shadow:0 14px 40px rgba(184,135,47,0.16)}
.btn:active{transform:translateY(2px)}

/* APP */
.container{width:100%;max-width:920px;margin:0 auto;visibility:hidden}
.header{display:flex;justify-content:space-between;align-items:center;margin-bottom:14px}
.h-left{text-align:right}
.h-left h1{margin:0;font-size:18px;font-weight:900;color:var(--metal)}
.h-left .meta{font-size:13px;color:var(--muted);margin-top:6px}
.card{
  background: linear-gradient(180deg,var(--card), #fff);
  border-radius:14px;padding:18px;border:1px solid rgba(90,70,54,0.04);
  box-shadow:0 18px 40px var(--shadow);
}

/* question */
.progress{height:10px;background:#efe7dc;border-radius:999px;overflow:hidden;margin-bottom:12px}
.progress > i{display:block;height:100%;background:linear-gradient(90deg,var(--accent),var(--accent-2));width:0%;transition:width .45s ease}
.qBox{padding:14px;border-radius:12px;background:linear-gradient(90deg, rgba(255,255,255,0.98), rgba(255,255,255,0.99));transition:transform .28s,opacity .28s}
.qtext{font-weight:900;margin-bottom:12px;font-size:16px;color:var(--metal)}
.choices{display:flex;flex-direction:column;gap:10px}
label.choice{
  display:flex;align-items:center;gap:12px;padding:12px;border-radius:10px;border:1px solid rgba(90,70,54,0.06);
  cursor:pointer;background:linear-gradient(180deg, rgba(255,255,255,0.98), rgba(250,246,241,0.98));
}
label.choice:hover{background:linear-gradient(180deg, rgba(255,249,240,1), rgba(255,249,240,1))}
input[type="radio"]{accent-color:var(--accent)}

/* controls */
.controls{display:flex;justify-content:space-between;align-items:center;margin-top:14px}
.small{font-size:13px;color:var(--muted)}
.result{margin-top:12px;padding:14px;border-radius:12px;background:linear-gradient(180deg, rgba(255,255,255,0.98), rgba(250,246,241,0.98));border:1px solid rgba(90,70,54,0.04);display:none}

/* feedback highlight */
.correct{background:linear-gradient(90deg, rgba(134,239,172,0.12), rgba(255,255,255,0.9));border-color:rgba(34,197,94,0.12)}
.incorrect{background:linear-gradient(90deg, rgba(254,202,202,0.08), rgba(255,255,255,0.9));border-color:rgba(239,68,68,0.10)}

/* slide animations */
.slide-in{animation:slideIn .36s ease forwards}
.slide-out-left{animation:slideOutLeft .28s ease forwards}
@keyframes slideIn{from{opacity:0;transform:translateX(12px)}to{opacity:1;transform:none}}
@keyframes slideOutLeft{to{opacity:0;transform:translateX(-12px)}}

/* responsive */
@media (max-width:600px){
  .splashCard{padding:18px}
  .qtext{font-size:15px}
  .btn{padding:10px 14px}
}
</style>
</head>
<body>

<!-- SPLASH -->
<div class="splash" id="splash">
  <div class="splashCard" role="dialog" aria-labelledby="mainTitle">
    <div id="mainTitle" class="titleMain">Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ© â€” Ø§Ù„ØµÙ Ø§Ù„Ø«Ø§Ù„Ø« Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯ÙŠ ( Ø£Ù‡Ù… ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ø¯Ø±Ø³ Ø§Ù„Ø£ÙˆÙ„ Ø§Ù„ÙˆØ­Ø¯Ø© 3 )</div>
    <div class="titleSub">Ø¨Ø¥Ø´Ø±Ø§Ù: Ø£.Ø¨Ø§Ø³Ù… | ØªØµÙ…ÙŠÙ…: Ù…Ø§Ù„Ùƒ</div>

    <div class="readyBox">      
      <div class="smallMuted">Ø§Ø¶ØºØ· Ø§Ø¨Ø¯Ø£ Ø¹Ù†Ø¯Ù…Ø§ ØªÙƒÙˆÙ† Ø¬Ø§Ù‡Ø²Ù‹Ø§ Ù„Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©</div>
      <div style="margin-top:12px">
        <button id="startBtn" class="btn" onclick="appStart()">Ø§Ø¨Ø¯Ø£</button>
      </div>
    </div>
  </div>
</div>

<!-- APP -->
<div class="app-wrap">
  <div class="container" id="quizApp" aria-hidden="true">
    <div class="header">
      <div class="h-left">
        <h1>Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ© â€” Ø§Ù„ØµÙ Ø§Ù„Ø«Ø§Ù„Ø« Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯ÙŠ ( Ø£Ù‡Ù… ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ø¯Ø±Ø³ Ø§Ù„Ø£ÙˆÙ„ Ø§Ù„ÙˆØ­Ø¯Ø© 3 )</h1>
        <div class="meta">Ø¨Ø¥Ø´Ø±Ø§Ù: Ø£.Ø¨Ø§Ø³Ù… | ØªØµÙ…ÙŠÙ…: Ù…Ø§Ù„Ùƒ</div>
      </div>
    </div>

    <div class="card" id="card">
      <div class="progress" aria-hidden="true"><i id="progBar"></i></div>

      <div id="qContainer"></div>

      <div class="controls">
        <button class="btn" id="prevBtn">Ø§Ù„Ø³Ø§Ø¨Ù‚</button>
        <div class="small">Ø³Ø¤Ø§Ù„ <span id="currentNum">0</span> / <span id="totalNum">0</span></div>
        <button class="btn" id="nextBtn">Ø§Ù„ØªØ§Ù„ÙŠ</button>
      </div>

      <div id="resultBox" class="result" role="status"></div>
    </div>
  </div>
</div>

<script>
/* ===== DATA: Ø£Ø³Ø¦Ù„Ø© Ø´Ø§Ù…Ù„Ø© Ù…Ø³ØªØ®Ù„ØµØ© Ù…Ù† ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ø¯Ø±Ø³ (Ø­ÙˆØ§Ù„ÙŠ 18 Ø³Ø¤Ø§Ù„) ===== */
const questions = [
  { q: 'Ù…Ø§ Ù…Ø¹Ù†Ù‰ "Artificial intelligence"ØŸ', choices:['Ø°ÙƒØ§Ø¡ Ø§ØµØ·Ù†Ø§Ø¹ÙŠ','Ù‚ÙˆØ© Ù…ÙŠÙƒØ§Ù†ÙŠÙƒÙŠØ©','Ø¢Ù„Ø© Ø­Ø¯ÙŠØ«Ø©','Ù…Ø§Ø¯Ø© ØµÙ†Ø§Ø¹ÙŠØ©'], answer:0 },
  { q: 'Ø¹ÙƒØ³ ÙƒÙ„Ù…Ù‡ "Artificial" Ù‡ÙˆØŸ', choices:['intelligence','natural','unreal','true'], answer:1 },
  { q: 'ÙƒÙ„Ù…Ø© "robot" ØªØ¹Ù†ÙŠØŸ', choices:['Ø§Ù†Ø³Ø§Ù† Ø¢Ù„Ù‰','ÙÙƒØ±Ø©','Ø³Ù„ÙˆÙƒ','Ù…Ù‡Ù…Ø©'], answer:0 },
  { q: 'Ù…Ø§ Ù…Ø±Ø§Ø¯Ù "smart"ØŸ', choices:['stupid','intelligent','hard','slow'], answer:1 },
  { q: 'Ø¹ÙƒØ³ "smart" Ù‡ÙˆØŸ', choices:['clever','wise','stupid','intelligent'], answer:2 },
  { q: 'ÙƒÙ„Ù…Ø© "humane" ØªØ¹Ù†ÙŠØŸ', choices:['Ø¥Ù†Ø³Ø§Ù†ÙŠ','Ø¢Ù„ÙŠ','Ù‚ÙˆÙŠ','ØµØ§Ø±Ù…'], answer:0 },
  { q: 'Ø¹ÙƒØ³ "expensive" Ø£Ùˆ "costly" Ù‡ÙˆØŸ', choices:['cheap','rare','hard','small'], answer:0 },
  { q: 'Ù…Ø±Ø§Ø¯Ù "simple" Ù‡ÙˆØŸ', choices:['easy','hard','expensive','slow'], answer:0 },
  { q: 'Ù…Ø±Ø§Ø¯Ù "allow" Ù‡ÙˆØŸ', choices:['let','stop','refuse','delay'], answer:0 },
  { q: 'Ø¹ÙƒØ³ "simple" Ù‡ÙˆØŸ', choices:['easy','hard','soft','cheap'], answer:1 },
  { q: 'Ù…Ø§ Ù…Ø¹Ù†Ù‰ "robotics"ØŸ', choices:['Ø¢Ù„Ù‰','Ø¹Ù„Ù… Ø§Ù„Ø¥Ù†Ø³Ø§Ù†','Ø¹Ù„Ù… Ø§Ù„Ø¥Ø¯Ø±Ø§Ùƒ','Ø¹Ù„Ù… Ø§Ù„ÙƒÙ„Ø§Ù…'], answer:0 },
  { q: 'Ù…Ø§ Ù…Ø¹Ù†Ù‰ "task"ØŸ', choices:['Ù…Ù‡Ù…Ø©','Ø´Ø¹ÙˆØ±','Ø­Ø¯','Ù‚Ù„Ù…'], answer:0 },
  { q: 'Ù…Ø§ Ù…Ø¹Ù†Ù‰ "allow" Ù‡Ù†Ø§ØŸ', choices:['ÙŠØ³Ù…Ø­','ÙŠÙ…Ù†Ø¹','ÙŠÙ†Ù‡ÙŠ','ÙŠØªØ¬Ø§Ù‡Ù„'], answer:0 },
  { q: 'Ø£ÙŠ Ø¹Ø¨Ø§Ø±Ø© ØªØ¹Ù†ÙŠ "make decision"ØŸ', choices:['Ø§ØªØ®Ø§Ø° Ù‚Ø±Ø§Ø±','Ø­Ù„ Ù…Ø´ÙƒÙ„Ø©','Ø¨Ù†Ø§Ø¡ Ø­Ø§Ø³ÙˆØ¨','Ø¹Ø±Ø¶ Ù…Ù‡Ù…Ø©'], answer:0 },
  { q: 'ÙƒÙ„Ù…Ø© "behavior" Ù…Ø¹Ù†Ø§Ù‡Ø§ØŸ', choices:['Ø³Ù„ÙˆÙƒ','Ø³Ø¹Ø±','Ø­Ø¯','Ù‚ÙŠÙ…Ø©'], answer:0 },
  { q: 'Ù…Ø§Ø°Ø§ ÙŠØ¹Ù†ÙŠ "basic" Ø£Ùˆ "main"ØŸ', choices:['Ø£Ø³Ø§Ø³ÙŠ','ØµØºÙŠØ±','Ø´Ø§Ø¦Ø¹','Ø«Ø§Ù†ÙˆÙŠ'], answer:0 },
  { q: 'Ø£ÙŠ ÙƒÙ„Ù…Ø© ØªØ¹Ù†ÙŠ "ÙŠØ­Ù„ Ù…Ø´ÙƒÙ„Ù‡"ØŸ', choices:['solve problem','make decision','support','limit'], answer:0 },
  { q: 'Ù…Ø§ Ù…Ø¹Ù†Ù‰ "limit / limited"ØŸ', choices:['Ø­Ø¯ / Ù…Ø­Ø¯ÙˆØ¯','ØºÙŠØ± ÙˆØ§Ø¶Ø­','Ø´Ø§Ø¦Ø¹','Ù…ÙØªÙˆØ­'], answer:0 },
  { q: 'Ø£ÙŠ ÙƒÙ„Ù…Ø© ØªØ´ÙŠØ± Ø¥Ù„Ù‰ "emotions"ØŸ', choices:['Ù…Ø´Ø§Ø¹Ø± Ø§Ùˆ Ø¹ÙˆØ§Ø·Ù','Ù…Ù‡Ø§Ù…','Ø³Ù„ÙˆÙƒ','Ø­Ø¯'], answer:0 },
  { q: 'ÙƒÙ„Ù…Ø© "human(s)" ØªØ¹Ù†ÙŠØŸ', choices:['Ø¥Ù†Ø³ / Ø¨Ø´Ø±','Ø¢Ù„Ø©','Ø´Ø¨ÙƒØ©','Ù…ÙÙ‡ÙˆÙ…'], answer:0 },
  { q: 'Ù…Ø§Ø°Ø§ ÙŠØ¹Ù†ÙŠ "castly Ø§Ùˆ expensive"ØŸ', choices:['ØºØ§Ù„ÙŠ','Ø±Ø®ÙŠØµ','Ù…Ø­Ø¯ÙˆØ¯','ØµØºÙŠØ±'], answer:0 },
  { q: 'Ù…Ø±Ø§Ø¯Ù "improve" ÙÙŠ Ø§Ù„Ø§Ø®ØªÙŠØ§Ø±Ø§Øª Ù‡ÙˆØŸ', choices:['develop','break','listen','sleep'], answer:0 },
  { q: 'Ø¹Ù„Ø§Ù‚Ø© "advanced" Ù‡ÙŠ Ø§Ù„Ø£Ù‚Ø±Ø¨ Ø¥Ù„Ù‰ØŸ', choices:['developed','simple','cheap','soft'], answer:0 }
];

let current = 0;
const total = questions.length;
const qContainer = document.getElementById('qContainer');
const progBar = document.getElementById('progBar');
const currentNum = document.getElementById('currentNum');
const totalNum = document.getElementById('totalNum');
const prevBtn = document.getElementById('prevBtn');
const nextBtn = document.getElementById('nextBtn');
const resultBox = document.getElementById('resultBox');
totalNum.textContent = total;

/* WebAudio for polished sounds */
let audioCtx = null;
function ensureAudio(){ if(!audioCtx) audioCtx = new (window.AudioContext || window.webkitAudioContext)(); }
function playTone(f1,f2,d){
  try{
    if(!audioCtx) ensureAudio();
    const o1 = audioCtx.createOscillator(), o2 = audioCtx.createOscillator(), g = audioCtx.createGain();
    o1.type='sine'; o2.type='sine';
    o1.frequency.value = f1; o2.frequency.value = f2;
    o1.connect(g); o2.connect(g); g.connect(audioCtx.destination);
    g.gain.setValueAtTime(0.012, audioCtx.currentTime);
    o1.start(); o2.start();
    g.gain.exponentialRampToValueAtTime(0.0001, audioCtx.currentTime + d);
    setTimeout(()=>{ try{ o1.stop(); o2.stop(); }catch(e){} }, d*1000);
  }catch(e){}
}
function clickFx(){ playTone(520,640,0.06); }      // option select
function navFx(){ playTone(620,760,0.07); }       // next/prev
function successFx(){ playTone(880,1200,0.45); }   // perfect
function failFx(){ playTone(300,220,0.45); }      // poor

/* store answers */
const userAnswers = new Array(total).fill(null);

/* render question one-by-one */
function renderQuestion(i){
  qContainer.innerHTML = '';
  const item = questions[i];
  const wrap = document.createElement('div');
  wrap.className = 'qBox slide-in';
  wrap.innerHTML = `<div class="qtext">${i+1}. ${item.q}</div>`;
  const choices = document.createElement('div'); choices.className = 'choices';
  item.choices.forEach((c,j)=>{
    const lab = document.createElement('label'); lab.className = 'choice';
    const inp = document.createElement('input'); inp.type='radio'; inp.name='q'+i; inp.value=j;
    if(userAnswers[i] !== null && Number(userAnswers[i]) === j) inp.checked = true;
    inp.addEventListener('change', ()=>{
      userAnswers[i] = Number(inp.value);
      try{ clickFx(); }catch(e){}
      updateProgress();
    });
    lab.appendChild(inp);
    lab.appendChild(document.createTextNode(' ' + c));
    choices.appendChild(lab);
  });
  wrap.appendChild(choices);
  qContainer.appendChild(wrap);
  currentNum.textContent = i+1;
  progBar.style.width = Math.round((i/total)*100) + '%';
  nextBtn.textContent = (i === total-1) ? 'Ø¥Ø±Ø³Ø§Ù„ ÙˆØªØµØ­ÙŠØ­' : 'Ø§Ù„ØªØ§Ù„ÙŠ';
}

/* navigation */
prevBtn.addEventListener('click', ()=>{
  if(current>0){
    try{ navFx(); }catch(e){}
    const node = qContainer.firstElementChild;
    if(node){ node.classList.add('slide-out-left'); setTimeout(()=>{ current--; renderQuestion(current); },260); }
    else { current--; renderQuestion(current); }
  }
});
nextBtn.addEventListener('click', ()=>{
  if(current < total-1){
    try{ navFx(); }catch(e){}
    const node = qContainer.firstElementChild;
    if(node){ node.classList.add('slide-out-left'); setTimeout(()=>{ current++; renderQuestion(current); },260); }
    else { current++; renderQuestion(current); }
  } else {
    submitAnswers();
  }
});

function updateProgress(){
  let answered = userAnswers.filter(x=>x!==null).length;
  progBar.style.width = Math.round((answered/total)*100) + '%';
}

/* submit & result (balanced wording) */
function submitAnswers(){
  let score = 0;
  for(let i=0;i<total;i++){
    if(userAnswers[i] !== null && Number(userAnswers[i]) === questions[i].answer) score++;
  }
  // balanced phrase
  let phrase = '';
  if(score === total) phrase = 'ğŸ¯ Ù…Ù…ØªØ§Ø² â€” Ø­ÙØ¸ Ù…ØªÙ‚Ù† Ù„Ù„ÙƒÙ„Ù…Ø§Øª';
  else if(score >= Math.ceil(total*0.75)) phrase = 'ğŸŒŸ Ø¬ÙŠØ¯ Ø¬Ø¯Ù‹Ø§ â€” Ø­ÙØ¸ Ù‚ÙˆÙŠ';
  else if(score >= Math.ceil(total*0.5)) phrase = 'ğŸŒ± Ù…ØªÙˆØ³Ø· â€” ÙŠØ­ØªØ§Ø¬ Ù…Ø±Ø§Ø¬Ø¹Ø©';
  else phrase = 'ğŸ” Ø¶Ø¹ÙŠÙ â€” Ù„Ù†Ø±Ø§Ø¬Ø¹ Ù…Ø¹Ù‹Ø§ Ù…Ù† Ø¬Ø¯ÙŠØ¯';
  resultBox.style.display = 'block';
  resultBox.innerHTML = `<div style="font-weight:900;font-size:18px">Ø¯Ø±Ø¬ØªÙƒ: ${score} / ${total}</div>
    <div style="margin-top:8px;font-size:16px;color:var(--muted)">${phrase}</div>
    <div style="margin-top:10px;color:var(--muted)">ØªÙ… Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± âœ…</div>
    <div style="margin-top:12px"><button class="btn" id="retryBtn">ğŸ” Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø©</button></div>`;
  // play result sound
  if(score === total) try{ successFx(); }catch(e){}
  else if(score <= Math.ceil(total*0.4)) try{ failFx(); }catch(e){}
  else try{ clickFx(); }catch(e){}
  // show details
  const detail = document.createElement('div'); detail.style.marginTop='12px';
  questions.forEach((it, idx)=>{
    const ok = (userAnswers[idx] !== null && Number(userAnswers[idx]) === it.answer);
    const block = document.createElement('div');
    block.className = 'qBox ' + (ok ? 'correct' : 'incorrect');
    block.style.marginTop = '10px';
    block.innerHTML = `<div style="font-weight:800">${idx+1}. ${it.q}</div>
      <div style="margin-top:6px">Ø¥Ø¬Ø§Ø¨ØªÙƒ: <strong>${userAnswers[idx] !== null ? it.choices[userAnswers[idx]] : '(Ø¨Ø¯ÙˆÙ† Ø¥Ø¬Ø§Ø¨Ø©)'}</strong>
      â€” Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©: <strong>${it.choices[it.answer]}</strong></div>`;
    detail.appendChild(block);
  });
  resultBox.appendChild(detail);
  const retry = document.getElementById('retryBtn');
  retry && retry.addEventListener('click', resetQuiz);
}

/* reset */
function resetQuiz(){
  for(let i=0;i<total;i++) userAnswers[i]=null;
  resultBox.style.display='none';
  current = 0;
  renderQuestion(current);
  updateProgress();
}

/* STARTER: ensure Start button works */
window._requestedStart = false;
function appStart(){
  window._requestedStart = true;
  // hide splash quickly & show container
  const splash = document.getElementById('splash'); if(splash) splash.style.display='none';
  const container = document.querySelector('.container'); if(container) container.style.visibility='visible';
  // resume audio context
  try{ ensureAudio(); if(audioCtx.state === 'suspended') audioCtx.resume(); }catch(e){}
  try{ startApp(); }catch(e){}
}

/* initialize after start */
function startApp(){
  try{ ensureAudio(); }catch(e){}
  const quizApp = document.getElementById('quizApp'); quizApp && quizApp.setAttribute('aria-hidden','false');
  renderQuestion(current);
  updateProgress();
}

/* if clicked early */
if(window._requestedStart) try{ startApp(); }catch(e){}
</script>
</body>
</html>
